<div class="container">
  <h1>Elder Davie's Koolaid Kart</h1>

  <!-- Add Keg -->
  <div class="row">
    <div class="" [ngSwitch]="addKeg">
        <div class="form-group" *ngSwitchCase="true">

        <label for="name">Name</label>
        <input [(ngModel)]="name" id="name">

        <label for="flavor">Flavor town</label>
        <input [(ngModel)]="flavor" id="flavor">

        <label for="price">Price</label>
        <input [(ngModel)]="price" id="price">

        <label for="secretIngredient">Secret Ingredient</label>
        <input [(ngModel)]="secretIngredient" id="secretIngredient">
        <button (click)="newJuice()" class="btn">Add</button>
      </div>
      <div class="" *ngSwitchDefault>
        <button (click)="showAdd()" class="btn btn-lg">Add a Keg</button>
      </div>
    </div>
  </div>

    <!-- filter Keg -->
  <div class="row">
    <div class="input-group">
      <select class="form-control" id="filter" (change)="filter($event.target.value)" name="filter">
        <option value="all">All</option>
        <option value="Cyanide">Cyanide</option>
        <option value="Codeine">Codeine</option>
        <option value="LSD" >LSD</option>
        <!-- <option *ngFor="let ingredient of displayIngredients" [value]="ingredient">{{ingredient}}</option> -->
      </select>
      <span class="input-group-btn" (click)="filter(ingredient)"><button  class="btn">Filter</button></span>
    </div>
  </div>

<!-- show Keg -->
<div class="row">
  <div *ngFor="let juice of freshjuice | filter:filterAttribute">
    <div class="panel col-sm-4">

     <div class="panel-heading primaryColor" (click)="editKeg(juice)">
      <h1 [class]="kegLevel(juice.quantity)">{{juice.name}}</h1>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-sm-8">
          <h3>Flavor: {{juice.flavor}}</h3>
          <span>Secret Ingredient: {{juice.secretIngredient}}</span>
          <div class="kegQuantity">
            <span [class]="kegLevel(juice.quantity)">{{tapped(juice.quantity)}}</span><span> ounces remaining</span>
          </div>
          <h3>{{surgePrice(juice)}}</h3>
        </div>
        <div class="col-sm-4">
          <div class="meter">
            <div class="meterLevel" [style.height.%]="kegMeter(juice.quantity)">

            </div>
          </div>
        </div>
      </div>
      <div class="row">

        <label for="size">Select a size</label>
        <div class="input-group">
          <select class="form-control" id="size" [(ngModel)]="size" name="size">
            <option *ngFor="let size of displaySizes" [value]="size">{{size}}</option>
          </select>
          <span class="input-group-btn"><button (click)="getServed(juice, size)" class="btn">Purchase</button></span>
        </div>
      </div>
    </div>
  </div>
</div>
</div>



<!-- Update Keg -->
<edit-juice [childSelectedKeg]="selectedKeg"></edit-juice>
</div>
